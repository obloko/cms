(function(k){function B(a){p(this,a);this.assertions=[];this.testNumber=++B.count}function P(){d.autorun=!0;d.currentModule&&s("moduleDone",e,{name:d.currentModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all});delete d.previousModule;var a,c;a=n("qunit-banner");c=n("qunit-tests");var b=+new r-d.started,l=d.stats.all-d.stats.bad,g=["Tests completed in ",b," milliseconds.<br/><span class='passed'>",l,"</span> assertions of <span class='total'>",d.stats.all,
"</span> passed, <span class='failed'>",d.stats.bad,"</span> failed."].join("");a&&(a.className=d.stats.bad?"qunit-fail":"qunit-pass");c&&(n("qunit-testresult").innerHTML=g);d.altertitle&&("undefined"!==typeof document&&document.title)&&(document.title=[d.stats.bad?"\u2716":"\u2714",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(d.reorder&&u.sessionStorage&&0===d.stats.bad)for(a=0;a<sessionStorage.length;a++)c=sessionStorage.key(a++),0===c.indexOf("qunit-test-")&&sessionStorage.removeItem(c);
k.scrollTo&&k.scrollTo(0,0);s("done",e,{failed:d.stats.bad,passed:l,total:d.stats.all,runtime:b})}function F(a){var c=d.filter&&d.filter.toLowerCase(),b=d.module&&d.module.toLowerCase(),e=(a.module+": "+a.testName).toLowerCase();if(a.callback&&a.callback.validTest===F)return delete a.callback.validTest,!0;if(d.testNumber)return a.testNumber===d.testNumber;if(b&&(!a.module||a.module.toLowerCase()!==b))return!1;if(!c)return!0;(a="!"!==c.charAt(0))||(c=c.slice(1));return-1!==e.indexOf(c)?a:!a}function C(a,
c){c=void 0===c?3:c;var b,d,e;if(a.stacktrace)return a.stacktrace.split("\n")[c+3];if(a.stack){b=a.stack.split("\n");/^error$/i.test(b[0])&&b.shift();if(L){d=[];for(e=c;e<b.length&&-1===b[e].indexOf(L);e++)d.push(b[e]);if(d.length)return d.join("\n")}return b[c]}if(a.sourceURL&&!/qunit.js$/.test(a.sourceURL))return a.sourceURL+":"+a.line}function v(a){try{throw Error();}catch(c){return C(c,a)}}function m(a){return a?(a+"").replace(/['"<>&]/g,function(a){switch(a){case "'":return"&#039;";case '"':return"&quot;";
case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;"}}):""}function y(a,c){d.queue.push(a);d.autorun&&!d.blocking&&D(c)}function D(a){function c(){D(a)}var b=(new r).getTime();for(d.depth=d.depth?d.depth+1:1;d.queue.length&&!d.blocking;)if(!u.setTimeout||0>=d.updateRate||(new r).getTime()-b<d.updateRate)d.queue.shift()();else{E(c,13);break}d.depth--;!a||(d.blocking||d.queue.length||0!==d.depth)||P()}function G(){d.pollution=[];if(d.noglobals)for(var a in k)t.call(k,a)&&!/^qunit-test-output/.test(a)&&
d.pollution.push(a)}function M(a,c){var b,d,e=a.slice();for(b=0;b<e.length;b++)for(d=0;d<c.length;d++)if(e[b]===c[d]){e.splice(b,1);b--;break}return e}function p(a,c){for(var b in c)!t.call(c,b)||"constructor"===b&&a===k||(void 0===c[b]?delete a[b]:a[b]=c[b]);return a}function w(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent("on"+c,b)}function Q(a,c,b){for(var d=a.length;d--;)w(a[d],c,b)}function H(a,c){return-1<(" "+a.className+" ").indexOf(" "+c+" ")}function I(a,c){H(a,c)||
(a.className+=(a.className?" ":"")+c)}function N(a,c){for(var b=" "+a.className+" ";-1<b.indexOf(" "+c+" ");)b=b.replace(" "+c+" "," ");a.className="function"===typeof b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")}function n(a){return!("undefined"===typeof document||!document||!document.getElementById)&&document.getElementById(a)}function x(a){return function(c){d[a].push(c)}}function s(a,c,b){var l;if(e.hasOwnProperty(a))e[a].call(c,b);else for(l=d[a],a=0;a<l.length;a++)l[a].call(c,b)}var e,z,d,J,R=
0,L=(v(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),O=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=k.Date,E=k.setTimeout;z="undefined"!==typeof k.setTimeout;var K;try{sessionStorage.setItem("qunit-test-string","qunit-test-string"),sessionStorage.removeItem("qunit-test-string"),K=!0}catch(T){K=!1}var u={setTimeout:z,sessionStorage:K},S=function(a){var c;c=a.toString();return"[object"===c.substring(0,7)?(c=a.name?a.name.toString():"Error",a=a.message?a.message.toString():"",
c&&a?c+": "+a:c?c:a?a:"Error"):c},A=function(a){var c,b,d=e.is("array",a)?[]:{};for(c in a)t.call(a,c)&&(b=a[c],d[c]=b===Object(b)?A(b):b);return d};B.count=0;B.prototype={init:function(){var a,c,b,d=n("qunit-tests");d&&(c=document.createElement("strong"),c.innerHTML=this.nameHtml,a=document.createElement("a"),a.innerHTML="Rerun",a.href=e.url({testNumber:this.testNumber}),b=document.createElement("li"),b.appendChild(c),b.appendChild(a),b.className="running",b.id=this.id="qunit-test-output"+R++,d.appendChild(b))},
setup:function(){this.module===d.previousModule&&t.call(d,"previousModule")||(t.call(d,"previousModule")&&s("moduleDone",e,{name:d.previousModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all}),d.previousModule=this.module,d.moduleStats={all:0,bad:0},s("moduleStart",e,{name:this.module}));d.current=this;this.testEnvironment=p({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);this.started=+new r;s("testStart",e,{name:this.testName,
module:this.module});e.current_testEnvironment=this.testEnvironment;d.pollution||G();if(d.notrycatch)this.testEnvironment.setup.call(this.testEnvironment,e.assert);else try{this.testEnvironment.setup.call(this.testEnvironment,e.assert)}catch(a){e.pushFailure("Setup failed on "+this.testName+": "+(a.message||a),C(a,1))}},run:function(){d.current=this;var a=n("qunit-testresult");a&&(a.innerHTML="Running: <br/>"+this.nameHtml);this.async&&e.stop();this.callbackStarted=+new r;if(d.notrycatch)this.callback.call(this.testEnvironment,
e.assert),this.callbackRuntime=+new r-this.callbackStarted;else try{this.callback.call(this.testEnvironment,e.assert),this.callbackRuntime=+new r-this.callbackStarted}catch(c){this.callbackRuntime=+new r-this.callbackStarted,e.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(c.message||c),C(c,0)),G(),d.blocking&&e.start()}},teardown:function(){d.current=this;if(d.notrycatch)"undefined"===typeof this.callbackRuntime&&(this.callbackRuntime=+new r-this.callbackStarted),this.testEnvironment.teardown.call(this.testEnvironment,
e.assert);else{try{this.testEnvironment.teardown.call(this.testEnvironment,e.assert)}catch(a){e.pushFailure("Teardown failed on "+this.testName+": "+(a.message||a),C(a,1))}var c,b=d.pollution;G();c=M(d.pollution,b);0<c.length&&e.pushFailure("Introduced global variable(s): "+c.join(", "));c=M(b,d.pollution);0<c.length&&e.pushFailure("Deleted global variable(s): "+c.join(", "))}},finish:function(){d.current=this;d.requireExpects&&null===this.expected?e.pushFailure("Expected number of assertions to be defined, but expect() was not called.",
this.stack):null!==this.expected&&this.expected!==this.assertions.length?e.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):null!==this.expected||this.assertions.length||e.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var a,c,b,l,g,f,h=this,q=b=0;g=n("qunit-tests");this.runtime=+new r-this.started;d.stats.all+=this.assertions.length;d.moduleStats.all+=this.assertions.length;
if(g){f=document.createElement("ol");f.className="qunit-assert-list";for(a=0;a<this.assertions.length;a++)c=this.assertions[a],g=document.createElement("li"),g.className=c.result?"pass":"fail",g.innerHTML=c.message||(c.result?"okay":"failed"),f.appendChild(g),c.result?b++:(q++,d.stats.bad++,d.moduleStats.bad++);e.config.reorder&&u.sessionStorage&&(q?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,q):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName));0===q&&
I(f,"qunit-collapsed");l=document.createElement("strong");l.innerHTML=this.nameHtml+" <b class='counts'>(<b class='failed'>"+q+"</b>, <b class='passed'>"+b+"</b>, "+this.assertions.length+")</b>";w(l,"click",function(){var a=l.parentNode.lastChild;(H(a,"qunit-collapsed")?N:I)(a,"qunit-collapsed")});w(l,"dblclick",function(a){a=a&&a.target?a.target:k.event.srcElement;if("span"===a.nodeName.toLowerCase()||"b"===a.nodeName.toLowerCase())a=a.parentNode;k.location&&"strong"===a.nodeName.toLowerCase()&&
(k.location=e.url({testNumber:h.testNumber}))});a=document.createElement("span");a.className="runtime";a.innerHTML=this.runtime+" ms";g=n(this.id);g.className=q?"fail":"pass";g.removeChild(g.firstChild);b=g.firstChild;g.appendChild(l);g.appendChild(b);g.appendChild(a);g.appendChild(f)}else for(a=0;a<this.assertions.length;a++)this.assertions[a].result||(q++,d.stats.bad++,d.moduleStats.bad++);s("testDone",e,{name:this.testName,module:this.module,failed:q,passed:this.assertions.length-q,total:this.assertions.length,
duration:this.runtime});e.reset();d.current=void 0},queue:function(){function a(){y(function(){c.setup()});y(function(){c.run()});y(function(){c.teardown()});y(function(){c.finish()})}var c=this;y(function(){c.init()});e.config.reorder&&u.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module+"-"+this.testName)?a():y(a,!0)}};e={module:function(a,c){d.currentModule=a;d.currentModuleTestEnvironment=c;d.modules[a]=!0},asyncTest:function(a,c,b){2===arguments.length&&(b=c,c=null);e.test(a,c,
b,!0)},test:function(a,c,b,e){var g;g="<span class='test-name'>"+m(a)+"</span>";2===arguments.length&&(b=c,c=null);d.currentModule&&(g="<span class='module-name'>"+m(d.currentModule)+"</span>: "+g);g=new B({nameHtml:g,testName:a,expected:c,async:e,callback:b,module:d.currentModule,moduleTestEnvironment:d.currentModuleTestEnvironment,stack:v(2)});F(g)&&g.queue()},expect:function(a){if(1===arguments.length)d.current.expected=a;else return d.current.expected},start:function(a){void 0===d.semaphore?e.begin(function(){E(function(){e.start(a)})}):
(d.semaphore-=a||1,0<d.semaphore||(0>d.semaphore?(d.semaphore=0,e.pushFailure("Called start() while already started (QUnit.config.semaphore was 0 already)",null,v(2))):u.setTimeout?E(function(){0<d.semaphore||(d.timeout&&clearTimeout(d.timeout),d.blocking=!1,D(!0))},13):(d.blocking=!1,D(!0))))},stop:function(a){d.semaphore+=a||1;d.blocking=!0;d.testTimeout&&u.setTimeout&&(clearTimeout(d.timeout),d.timeout=E(function(){e.ok(!1,"Test timed out");d.semaphore=1;e.start()},d.testTimeout))}};z={ok:function(a,
c){if(!d.current)throw Error("ok() assertion outside test context, was "+v(2));a=!!a;c=c||(a?"okay":"failed");var b,l={module:d.current.module,name:d.current.testName,result:a,message:c};c="<span class='test-message'>"+m(c)+"</span>";!a&&(b=v(2))&&(l.source=b,c+="<table><tr class='test-source'><th>Source: </th><td><pre>"+m(b)+"</pre></td></tr></table>");s("log",e,l);d.current.assertions.push({result:a,message:c})},equal:function(a,c,b){e.push(c==a,a,c,b)},notEqual:function(a,c,b){e.push(c!=a,a,c,
b)},propEqual:function(a,c,b){a=A(a);c=A(c);e.push(e.equiv(a,c),a,c,b)},notPropEqual:function(a,c,b){a=A(a);c=A(c);e.push(!e.equiv(a,c),a,c,b)},deepEqual:function(a,c,b){e.push(e.equiv(a,c),a,c,b)},notDeepEqual:function(a,c,b){e.push(!e.equiv(a,c),a,c,b)},strictEqual:function(a,c,b){e.push(c===a,a,c,b)},notStrictEqual:function(a,c,b){e.push(c!==a,a,c,b)},"throws":function(a,c,b){var l,g=c,f=!1;"string"===typeof c&&(b=c,c=null);d.current.ignoreGlobalErrors=!0;try{a.call(d.current.testEnvironment)}catch(h){l=
h}d.current.ignoreGlobalErrors=!1;l?(c?"regexp"===e.objectType(c)?f=c.test(S(l)):l instanceof c?f=!0:!0===c.call({},l)&&(g=null,f=!0):(f=!0,g=null),e.push(f,l,g,b)):e.pushFailure(b,null,"No exception was thrown.")}};p(e,z);e.raises=z["throws"];e.equals=function(){e.push(!1,!1,!1,"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead")};e.same=function(){e.push(!1,!1,!1,"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead")};(function(){function a(){}
a.prototype=e;e=new a;e.constructor=a})();d={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,requireExpects:!1,urlConfig:[{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],modules:{},begin:[],done:[],
log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]};"undefined"===typeof exports&&(p(k,e.constructor.prototype),k.QUnit=e);(function(){var a,c=k.location||{search:"",protocol:"file:"},b=c.search.slice(1).split("&"),l=b.length,g={},f;if(b[0])for(a=0;a<l;a++)f=b[a].split("="),f[0]=decodeURIComponent(f[0]),f[1]=f[1]?decodeURIComponent(f[1]):!0,g[f[0]]=f[1];e.urlParams=g;d.filter=g.filter;d.module=g.module;d.testNumber=parseInt(g.testNumber,10)||null;e.isLocal="file:"===c.protocol})();p(e,{assert:z,
config:d,init:function(){p(d,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new r,updateRate:1E3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:1});var a,c,b;if(a=n("qunit"))a.innerHTML="<h1 id='qunit-header'>"+m(document.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div><h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>";a=n("qunit-tests");c=n("qunit-banner");b=n("qunit-testresult");a&&(a.innerHTML="");c&&(c.className="");b&&b.parentNode.removeChild(b);
a&&(b=document.createElement("p"),b.id="qunit-testresult",b.className="result",a.parentNode.insertBefore(b,a),b.innerHTML="Running...<br/>&nbsp;")},reset:function(){var a=n("qunit-fixture");a&&(a.innerHTML=d.fixture)},triggerEvent:function(a,c,b){document.createEvent?(b=document.createEvent("MouseEvents"),b.initMouseEvent(c,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(b)):a.fireEvent&&a.fireEvent("on"+c)},is:function(a,c){return e.objectType(c)===a},objectType:function(a){if("undefined"===
typeof a)return"undefined";if(null===a)return"null";var c=O.call(a).match(/^\[object\s(.*)\]$/),c=c&&c[1]||"";switch(c){case "Number":return isNaN(a)?"nan":"number";case "String":case "Boolean":case "Array":case "Date":case "RegExp":case "Function":return c.toLowerCase()}if("object"===typeof a)return"object"},push:function(a,c,b,l){if(!d.current)throw Error("assertion outside test context, was "+v());var g={module:d.current.module,name:d.current.testName,result:a,message:l,actual:c,expected:b};l=
m(l)||(a?"okay":"failed");l="<span class='test-message'>"+l+"</span>";if(!a){b=m(e.jsDump.parse(b));c=m(e.jsDump.parse(c));l+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+b+"</pre></td></tr>";c!==b&&(l=l+("<tr class='test-actual'><th>Result: </th><td><pre>"+c+"</pre></td></tr>")+("<tr class='test-diff'><th>Diff: </th><td><pre>"+e.diff(b,c)+"</pre></td></tr>"));if(c=v())g.source=c,l+="<tr class='test-source'><th>Source: </th><td><pre>"+m(c)+"</pre></td></tr>";l+="</table>"}s("log",
e,g);d.current.assertions.push({result:!!a,message:l})},pushFailure:function(a,c,b){if(!d.current)throw Error("pushFailure() assertion outside test context, was "+v(2));var l={module:d.current.module,name:d.current.testName,result:!1,message:a};a=m(a)||"error";a="<span class='test-message'>"+a+"</span>";a+="<table>";b&&(a+="<tr class='test-actual'><th>Result: </th><td><pre>"+m(b)+"</pre></td></tr>");c&&(l.source=c,a+="<tr class='test-source'><th>Source: </th><td><pre>"+m(c)+"</pre></td></tr>");a+=
"</table>";s("log",e,l);d.current.assertions.push({result:!1,message:a})},url:function(a){a=p(p({},e.urlParams),a);var c,b="?";for(c in a)t.call(a,c)&&(b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])+"&");return k.location.protocol+"//"+k.location.host+k.location.pathname+b.slice(0,-1)},extend:p,id:n,addEvent:w,addClass:I,hasClass:H,removeClass:N});p(e.constructor.prototype,{begin:x("begin"),done:x("done"),log:x("log"),testStart:x("testStart"),testDone:x("testDone"),moduleStart:x("moduleStart"),
moduleDone:x("moduleDone")});if("undefined"===typeof document||"complete"===document.readyState)d.autorun=!0;e.load=function(){s("begin",e,{});var a,c,b,l,g,f,h,q;l=0;a=[];h=g="";l=p({},d);e.init();p(d,l);d.blocking=!1;l=d.urlConfig.length;for(b=0;b<l;b++)f=d.urlConfig[b],"string"===typeof f&&(f={id:f,label:f,tooltip:"[no tooltip available]"}),d[f.id]=e.urlParams[f.id],h+="<input id='qunit-urlconfig-"+m(f.id)+"' name='"+m(f.id)+"' type='checkbox'"+(d[f.id]?" checked='checked'":"")+" title='"+m(f.tooltip)+
"'><label for='qunit-urlconfig-"+m(f.id)+"' title='"+m(f.tooltip)+"'>"+f.label+"</label>";for(b in d.modules)d.modules.hasOwnProperty(b)&&a.push(b);l=a.length;a.sort(function(a,b){return a.localeCompare(b)});g+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(void 0===d.module?"selected='selected'":"")+">< All Modules ></option>";for(b=0;b<l;b++)g+="<option value='"+m(encodeURIComponent(a[b]))+"' "+(d.module===a[b]?"selected='selected'":
"")+">"+m(a[b])+"</option>";g+="</select>";if(a=n("qunit-userAgent"))a.innerHTML=navigator.userAgent;if(a=n("qunit-header"))a.innerHTML="<a href='"+e.url({filter:void 0,module:void 0,testNumber:void 0})+"'>"+a.innerHTML+"</a> ";if(a=n("qunit-testrunner-toolbar")){c=document.createElement("input");c.type="checkbox";c.id="qunit-filter-pass";w(c,"click",function(){var a,b=document.getElementById("qunit-tests");c.checked?b.className+=" hidepass":(a=" "+b.className.replace(/[\n\t\r]/g," ")+" ",b.className=
a.replace(/ hidepass /," "));u.sessionStorage&&(c.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});if(d.hidepassed||u.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))c.checked=!0,b=document.getElementById("qunit-tests"),b.className+=" hidepass";a.appendChild(c);b=document.createElement("label");b.setAttribute("for","qunit-filter-pass");b.setAttribute("title","Only show tests and assertions that fail. Stored in sessionStorage.");
b.innerHTML="Hide passed tests";a.appendChild(b);b=document.createElement("span");b.innerHTML=h;h=b.getElementsByTagName("input");Q(h,"click",function(a){var b={};a=a.target||a.srcElement;b[a.name]=a.checked?!0:void 0;k.location=e.url(b)});a.appendChild(b);1<l&&(q=document.createElement("span"),q.setAttribute("id","qunit-modulefilter-container"),q.innerHTML=g,w(q.lastChild,"change",function(){var a=q.getElementsByTagName("select")[0],a=decodeURIComponent(a.options[a.selectedIndex].value);k.location=
e.url({module:""===a?void 0:a,filter:void 0,testNumber:void 0})}),a.appendChild(q))}if(g=n("qunit-fixture"))d.fixture=g.innerHTML;d.autostart&&e.start()};w(k,"load",e.load);J=k.onerror;k.onerror=function(a,c,b){var d=!1;J&&(d=J(a,c,b));if(!0!==d){if(e.config.current){if(e.config.current.ignoreGlobalErrors)return!0;e.pushFailure(a,c+":"+b)}else e.test("global failure",p(function(){e.pushFailure(a,c+":"+b)},{validTest:F}));return!1}return d};e.equiv=function(){var a,c=[],b=[],d=[],g=Object.getPrototypeOf||
function(a){return a.__proto__},f=function(){function h(a,b){return a instanceof b.constructor||b instanceof a.constructor?b==a:b===a}return{string:h,"boolean":h,number:h,"null":h,undefined:h,nan:function(a){return isNaN(a)},date:function(a,b){return"date"===e.objectType(a)&&b.valueOf()===a.valueOf()},regexp:function(a,b){return"regexp"===e.objectType(a)&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline&&b.sticky===a.sticky},"function":function(){var a=
c[c.length-1];return a!==Object&&"undefined"!==typeof a},array:function(c,h){var f,g,k,m,n,p;if("array"!==e.objectType(c))return!1;k=h.length;if(k!==c.length)return!1;b.push(h);d.push(c);for(f=0;f<k;f++){m=!1;for(g=0;g<b.length;g++)if(n=b[g]===h[f],p=d[g]===c[f],n||p)if(h[f]===c[f]||n&&p)m=!0;else return b.pop(),d.pop(),!1;if(!m&&!a(h[f],c[f]))return b.pop(),d.pop(),!1}b.pop();d.pop();return!0},object:function(h,e){var f,k,m,n,p,r=!0,s=[],t=[];if(e.constructor!==h.constructor&&!(null===g(e)&&g(h)===
Object.prototype||null===g(h)&&g(e)===Object.prototype))return!1;c.push(e.constructor);b.push(e);d.push(h);for(f in e){m=!1;for(k=0;k<b.length;k++)if(n=b[k]===e[f],p=d[k]===h[f],n||p)if(e[f]===h[f]||n&&p)m=!0;else{r=!1;break}s.push(f);if(!m&&!a(e[f],h[f])){r=!1;break}}b.pop();d.pop();c.pop();for(f in h)t.push(f);return r&&a(s.sort(),t.sort())}}}();return a=function(){var b=[].slice.apply(arguments);if(2>b.length)return!0;var c=b[0],d=b[1];c===d?c=!0:null===c||null===d||"undefined"===typeof c||"undefined"===
typeof d||e.objectType(c)!==e.objectType(d)?c=!1:(d=[d,c],c=(c=e.objectType(c))?"function"===e.objectType(f[c])?f[c].apply(f,d):f[c]:void 0);return c&&a.apply(this,b.splice(1,b.length-1))}}();e.jsDump=function(){function a(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function c(a){return a+""}function b(a,b,c){var d=f.separator(),e=f.indent(),g=f.indent(1);b.join&&(b=b.join(","+d+g));return b?[a,g+b,e+c].join(d):a+c}function d(a,c){var e=a.length,f=Array(e);for(this.up();e--;)f[e]=this.parse(a[e],
void 0,c);this.down();return b("[",f,"]")}var g=/^function (\w+)/,f={parse:function(a,b,c){c=c||[];var d,e=this.parsers[b||this.typeOf(a)];b=typeof e;a:if(d=c,d.indexOf)d=d.indexOf(a);else{for(var f=0,g=d.length;f<g;f++)if(d[f]===a){d=f;break a}d=-1}return-1!==d?"recursion("+(d-c.length)+")":"function"===b?(c.push(a),a=e.call(this,a,c),c.pop(),a):"string"===b?e:this.parsers.error},typeOf:function(a){return null===a?"null":"undefined"===typeof a?"undefined":e.is("regexp",a)?"regexp":e.is("date",a)?
"date":e.is("function",a)?"function":void 0!==typeof a.setInterval&&"undefined"!==typeof a.document&&"undefined"===typeof a.nodeType?"window":9===a.nodeType?"document":a.nodeType?"node":"[object Array]"===O.call(a)||"number"===typeof a.length&&"undefined"!==typeof a.item&&(a.length?a.item(0)===a[0]:null===a.item(0)&&"undefined"===typeof a[0])?"array":a.constructor===Error.prototype.constructor?"error":typeof a},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":
" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;"));return Array(this.depth+(a||0)).join(b)},up:function(a){this.depth+=a||1},down:function(a){this.depth-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:a,literal:c,join:b,depth:1,parsers:{window:"[Window]",document:"[Document]",error:function(a){return'Error("'+a.message+'")'},unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(a){var c=
"function",d="name"in a?a.name:(g.exec(a)||[])[1];d&&(c+=" "+d);c=[c+"( ",e.jsDump.parse(a,"functionArgs"),"){"].join("");return b(c,e.jsDump.parse(a,"functionCode"),"}")},array:d,nodelist:d,arguments:d,object:function(a,c){var d=[],f,g,l,k;e.jsDump.up();f=[];for(g in a)f.push(g);f.sort();for(k=0;k<f.length;k++)g=f[k],l=a[g],d.push(e.jsDump.parse(g,"key")+": "+e.jsDump.parse(l,void 0,c));e.jsDump.down();return b("{",d,"}")},node:function(a){var b,c,d,f=e.jsDump.HTML?"&lt;":"<",g=e.jsDump.HTML?"&gt;":
">",l=a.nodeName.toLowerCase(),k=f+l,m=a.attributes;if(m)for(c=0,b=m.length;c<b;c++)(d=m[c].nodeValue)&&"inherit"!==d&&(k+=" "+m[c].nodeName+"="+e.jsDump.parse(d,"attribute"));k+=g;if(3===a.nodeType||4===a.nodeType)k+=a.nodeValue;return k+f+"/"+l+g},functionArgs:function(a){var b=a.length;if(!b)return"";for(a=Array(b);b--;)a[b]=String.fromCharCode(97+b);return" "+a.join(", ")+" "},key:a,functionCode:"[code]",attribute:a,string:a,date:a,regexp:c,number:c,"boolean":c},HTML:!1,indentChar:"  ",multiline:!0};
return f}();e.diff=function(){return function(a,c){a=a.replace(/\s+$/,"");c=c.replace(/\s+$/,"");var b,d,e="",f=""===a?[]:a.split(/\s+/),h=""===c?[]:c.split(/\s+/);d={};var k={};for(b=0;b<h.length;b++)t.call(d,h[b])||(d[h[b]]={rows:[],o:null}),d[h[b]].rows.push(b);for(b=0;b<f.length;b++)t.call(k,f[b])||(k[f[b]]={rows:[],n:null}),k[f[b]].rows.push(b);for(b in d)t.call(d,b)&&(1===d[b].rows.length&&t.call(k,b)&&1===k[b].rows.length)&&(h[d[b].rows[0]]={text:h[d[b].rows[0]],row:k[b].rows[0]},f[k[b].rows[0]]=
{text:f[k[b].rows[0]],row:d[b].rows[0]});for(b=0;b<h.length-1;b++)null!=h[b].text&&(null==h[b+1].text&&h[b].row+1<f.length&&null==f[h[b].row+1].text&&h[b+1]==f[h[b].row+1])&&(h[b+1]={text:h[b+1],row:h[b].row+1},f[h[b].row+1]={text:f[h[b].row+1],row:b+1});for(b=h.length-1;0<b;b--)null!=h[b].text&&(null==h[b-1].text&&0<h[b].row&&null==f[h[b].row-1].text&&h[b-1]==f[h[b].row-1])&&(h[b-1]={text:h[b-1],row:h[b].row-1},f[h[b].row-1]={text:f[h[b].row-1],row:b-1});var k=a.match(/\s+/g),m=c.match(/\s+/g);null==
k?k=[" "]:k.push(" ");null==m?m=[" "]:m.push(" ");if(0===h.length)for(b=0;b<f.length;b++)e+="<del>"+f[b]+k[b]+"</del>";else{if(null==h[0].text)for(c=0;c<f.length&&null==f[c].text;c++)e+="<del>"+f[c]+k[c]+"</del>";for(b=0;b<h.length;b++)if(null==h[b].text)e+="<ins>"+h[b]+m[b]+"</ins>";else{d="";for(c=h[b].row+1;c<f.length&&null==f[c].text;c++)d+="<del>"+f[c]+k[c]+"</del>";e+=" "+h[b].text+m[b]+d}}return e}}();"undefined"!==typeof exports&&p(exports,e.constructor.prototype)})(function(){return this}.call());